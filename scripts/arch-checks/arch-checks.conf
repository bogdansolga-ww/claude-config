# Architecture Checks Configuration
# Copy to your project's scripts/ directory and customize

# =============================================================================
# check-architecture.sh - Layer hierarchy enforcement
# =============================================================================

# File patterns (regex for grep -E)
PAGE_PATTERN='src/app/.*page\.tsx$'
ROUTE_PATTERN='src/app/api/.*route\.ts$'
SERVICE_PATTERN='src/lib/services/.*\.ts$'

# Forbidden imports per layer (space-separated)
PAGE_FORBIDDEN='@/lib/services @/lib/repositories @/lib/core/db'
ROUTE_FORBIDDEN='@/lib/repositories @/lib/core/db'
SERVICE_FORBIDDEN='@/lib/core/db'

# =============================================================================
# check-schemas.sh - Schema location enforcement
# =============================================================================

# Where schemas should live (for error messages)
SCHEMA_LOCATION='src/lib/schemas/'

# Files to check for inline schema definitions
SCHEMA_CHECK_ROUTES='src/app/api'
SCHEMA_CHECK_SERVICES='src/lib/services'

# =============================================================================
# check-deep-architecture.sh - Advanced checks
# =============================================================================

# Repository layer path
REPO_LAYER_PATH='src/lib/repositories'

# HTTP module path (repos shouldn't import this)
HTTP_MODULE_PATH='@/lib/core/http'

# Routes path for HOF/auth checks
ROUTES_PATH='src/app/api/v1'

# HOF pattern function name
HOF_FUNCTION='withErrorHandling'

# Auth function name
AUTH_FUNCTION='withAuth'

# HTTP_STATUS correct import source
HTTP_STATUS_SOURCE='@/lib/core/responses'

# Services path for error check
SERVICES_PATH='src/lib/services'

# Repository import pattern (routes shouldn't use)
REPO_IMPORT_PATTERN='@/lib/repositories'
